<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tailwind Modal Example with 10 Countries</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-gray-100 flex justify-center items-center min-h-screen">
    <button id="openModalBtn" class="bg-blue-900 text-white px-6 py-3 rounded-md hover:bg-blue-800 transition">
      üåç Select Location
    </button>

    <div
      id="locationModal"
      class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center overflow-auto"
    >
      <div class="bg-white w-11/12 md:w-[500px] p-6 rounded-lg relative shadow-lg max-h-[90vh] overflow-y-auto">
        <button onclick="closeModal()" class="absolute top-4 right-4 text-blue-900 hover:text-red-500 text-2xl">
          &times;
        </button>

        <h2 class="text-xl font-bold text-blue-900 mb-4">Select Location</h2>

        <button
          onclick="toggleCollapse('country-collapse')"
          class="w-full text-left bg-blue-900 text-white px-4 py-2 rounded mb-2"
        >
          Country <span class="float-right">‚ñº</span>
        </button>

        <div id="country-collapse" class="hidden space-y-2 pl-4">
          <button
            onclick="toggleCollapse('bangladesh-collapse')"
            class="w-full text-left bg-blue-800 text-white px-4 py-2 rounded"
          >
            Bangladesh <span class="float-right">‚ñº</span>
          </button>
          <div id="bangladesh-collapse" class="hidden pl-4 space-y-2">
            <button
              onclick="toggleCollapse('dhaka-collapse')"
              class="w-full text-left bg-blue-700 text-white px-4 py-2 rounded"
            >
              Dhaka <span class="float-right">‚ñº</span>
            </button>
            <div id="dhaka-collapse" class="hidden pl-4 space-y-2 flex flex-col">
              <label
                ><input type="radio" name="location" value="Bangladesh>Dhaka>Rent a Car" class="mr-2" />Rent a
                Car</label
              >
              <label
                ><input type="radio" name="location" value="Bangladesh>Dhaka>Real Estate" class="mr-2" />Real
                Estate</label
              >
            </div>

            <button
              onclick="toggleCollapse('chittagong-collapse')"
              class="w-full text-left bg-blue-700 text-white px-4 py-2 rounded"
            >
              Chittagong <span class="float-right">‚ñº</span>
            </button>
            <div id="chittagong-collapse" class="hidden pl-4 space-y-2 flex flex-col">
              <label
                ><input
                  type="radio"
                  name="location"
                  value="Bangladesh>Chittagong>Education"
                  class="mr-2"
                />Education</label
              >
              <label><input type="radio" name="location" value="Bangladesh>Chittagong>Jobs" class="mr-2" />Jobs</label>
            </div>
          </div>

          <!-- India -->
          <button
            onclick="toggleCollapse('india-collapse')"
            class="w-full text-left bg-blue-800 text-white px-4 py-2 rounded"
          >
            India <span class="float-right">‚ñº</span>
          </button>
          <div id="india-collapse" class="hidden pl-4 space-y-2">
            <button
              onclick="toggleCollapse('mumbai-collapse')"
              class="w-full text-left bg-blue-700 text-white px-4 py-2 rounded"
            >
              Mumbai <span class="float-right">‚ñº</span>
            </button>
            <div id="mumbai-collapse" class="hidden pl-4 space-y-2 flex flex-col">
              <label><input type="radio" name="location" value="India>Mumbai>IT" class="mr-2" />IT</label>
              <label
                ><input type="radio" name="location" value="India>Mumbai>Healthcare" class="mr-2" />Healthcare</label
              >
            </div>

            <button
              onclick="toggleCollapse('delhi-collapse')"
              class="w-full text-left bg-blue-700 text-white px-4 py-2 rounded"
            >
              Delhi <span class="float-right">‚ñº</span>
            </button>
            <div id="delhi-collapse" class="hidden pl-4 space-y-2 flex flex-col">
              <label><input type="radio" name="location" value="India>Delhi>Education" class="mr-2" />Education</label>
              <label><input type="radio" name="location" value="India>Delhi>Fashion" class="mr-2" />Fashion</label>
            </div>
          </div>

          <!-- Pakistan -->
          <button
            onclick="toggleCollapse('pakistan-collapse')"
            class="w-full text-left bg-blue-800 text-white px-4 py-2 rounded"
          >
            Pakistan <span class="float-right">‚ñº</span>
          </button>
          <div id="pakistan-collapse" class="hidden pl-4 space-y-2">
            <button
              onclick="toggleCollapse('karachi-collapse')"
              class="w-full text-left bg-blue-700 text-white px-4 py-2 rounded"
            >
              Karachi <span class="float-right">‚ñº</span>
            </button>
            <div id="karachi-collapse" class="hidden pl-4 space-y-2 flex flex-col">
              <label><input type="radio" name="location" value="Pakistan>Karachi>Textile" class="mr-2" />Textile</label>
              <label
                ><input type="radio" name="location" value="Pakistan>Karachi>Real Estate" class="mr-2" />Real
                Estate</label
              >
            </div>

            <button
              onclick="toggleCollapse('lahore-collapse')"
              class="w-full text-left bg-blue-700 text-white px-4 py-2 rounded"
            >
              Lahore <span class="float-right">‚ñº</span>
            </button>
            <div id="lahore-collapse" class="hidden pl-4 space-y-2 flex flex-col">
              <label
                ><input type="radio" name="location" value="Pakistan>Lahore>Education" class="mr-2" />Education</label
              >
              <label><input type="radio" name="location" value="Pakistan>Lahore>Tourism" class="mr-2" />Tourism</label>
            </div>
          </div>

          <!-- Nepal -->
          <button
            onclick="toggleCollapse('nepal-collapse')"
            class="w-full text-left bg-blue-800 text-white px-4 py-2 rounded"
          >
            Nepal <span class="float-right">‚ñº</span>
          </button>
          <div id="nepal-collapse" class="hidden pl-4 space-y-2">
            <button
              onclick="toggleCollapse('kathmandu-collapse')"
              class="w-full text-left bg-blue-700 text-white px-4 py-2 rounded"
            >
              Kathmandu <span class="float-right">‚ñº</span>
            </button>
            <div id="kathmandu-collapse" class="hidden pl-4 space-y-2 flex flex-col">
              <label><input type="radio" name="location" value="Nepal>Kathmandu>Tourism" class="mr-2" />Tourism</label>
              <label
                ><input type="radio" name="location" value="Nepal>Kathmandu>Education" class="mr-2" />Education</label
              >
            </div>

            <button
              onclick="toggleCollapse('pokhara-collapse')"
              class="w-full text-left bg-blue-700 text-white px-4 py-2 rounded"
            >
              Pokhara <span class="float-right">‚ñº</span>
            </button>
            <div id="pokhara-collapse" class="hidden pl-4 space-y-2 flex flex-col">
              <label><input type="radio" name="location" value="Nepal>Pokhara>Hotels" class="mr-2" />Hotels</label>
              <label><input type="radio" name="location" value="Nepal>Pokhara>Travel" class="mr-2" />Travel</label>
            </div>
          </div>

          <button
            onclick="toggleCollapse('srilanka-collapse')"
            class="w-full text-left bg-blue-800 text-white px-4 py-2 rounded"
          >
            Sri Lanka <span class="float-right">‚ñº</span>
          </button>
          <div id="srilanka-collapse" class="hidden pl-4 space-y-2">
            <button
              onclick="toggleCollapse('colombo-collapse')"
              class="w-full text-left bg-blue-700 text-white px-4 py-2 rounded"
            >
              Colombo <span class="float-right">‚ñº</span>
            </button>
            <div id="colombo-collapse" class="hidden pl-4 space-y-2 flex flex-col">
              <label><input type="radio" name="location" value="Sri Lanka>Colombo>Ports" class="mr-2" />Ports</label>
              <label><input type="radio" name="location" value="Sri Lanka>Colombo>IT" class="mr-2" />IT</label>
            </div>

            <button
              onclick="toggleCollapse('kandy-collapse')"
              class="w-full text-left bg-blue-700 text-white px-4 py-2 rounded"
            >
              Kandy <span class="float-right">‚ñº</span>
            </button>
            <div id="kandy-collapse" class="hidden pl-4 space-y-2 flex flex-col">
              <label><input type="radio" name="location" value="Sri Lanka>Kandy>Tea" class="mr-2" />Tea</label>
              <label><input type="radio" name="location" value="Sri Lanka>Kandy>Tourism" class="mr-2" />Tourism</label>
            </div>
          </div>
        </div>

        <section class="mt-6 text-right">
          <button
            onclick="saveLocation()"
            class="!bg-blue-900 text-white px-4 py-2 rounded hover:bg-blue-800 transition"
          >
            Set Changes
          </button>
        </section>
      </div>
    </div>

    <script>
      const openModalBtn = document.getElementById("openModalBtn");
      const locationModal = document.getElementById("locationModal");

      openModalBtn.addEventListener("click", () => {
        locationModal.classList.remove("hidden");
      });

      function closeModal() {
        locationModal.classList.add("hidden");
      }

      function toggleCollapse(id) {
        const element = document.getElementById(id);
        if (!element) return;

        const siblings = Array.from(element.parentElement.children).filter(
          (child) => child.tagName === "DIV" && child !== element
        );

        siblings.forEach((sibling) => {
          sibling.classList.add("hidden");
        });

        element.classList.toggle("hidden");
      }

      function saveLocation() {
        const selected = document.querySelector('input[name="location"]:checked');
        if (selected) {
          alert(`You selected: ${selected.value}`);
          closeModal();
        } else {
          alert("Please select a location.");
        }
      }

      window.addEventListener("click", function (event) {
        if (event.target === locationModal) {
          closeModal();
        }
      });
    </script>
  </body>
</html>
